#DEPENDENCIES (Ubuntu 10.04)
apt-get install pkg-config #sudo #pre-req
apt-get install openssl libssl-dev python-openssl #sudo #openssl
apt-get install g++ autoconf automake #sudo #gnu maketools
apt-get install git-core #sudo #git

#BASIC INSTALL PROCEDURE
git clone http://github.com/ry/node.git
cd node
./configure
make
make install #sudo
cd ..
wget http://dl.couchone.com/dl/26f246a0fe23d6a53d5326713308f43c/install-couchdb-1.0.1_rel1-linux-x64.bin #from http://www.couch.io/get#ubuntu
chmod +x install-couchdb-1.0.1_rel1-linux-x64.bin
./install-couchdb-1.0.1_rel1-linux-x64.bin #sudo
curl -O http://python-distribute.org/distribute_setup.py
python distribute_setup.py #sudo
git clone git://github.com/couchapp/couchapp.git
cd couchapp
python setup.py develop #sudo
cd ..
git clone http://github.com/isaacs/npm.git
curl http://npmjs.org/install.sh | sh #sudo sh
npm install expresso #sudo
npm install connect #sudo
npm install connect-form #sudo
npm install jade #sudo
npm install underscore #sudo
npm install less #sudo
git clone http://github.com/akidee/extensions.js.git extensions
cp -r extensions /usr/local/lib/node/ #sudo
git clone http://github.com/akidee/schema.js.git schema
cp -r schema /usr/local/lib/node/ #sudo

#SETUP NODE DAEMON (optional -- for production/proxy usage)
#apt-get install monit #sudo
cd conf
cp NodePlayground.conf /etc/init/ #sudo
cp couchdb.conf /etc/init/ #sudo
cp NodePlayground.monit /etc/monit/conf.d/ #sudo
cp couchdb.monit /etc/monit/conf.d/ #sudo
cp NodePlayground.nginx /etc/nginx/sites-available #sudo
ln -s /etc/nginx/sites-available/NodePlayground.nginx /etc/nginx/sites-enabled
cd ..

#SSL SETUP (optional -- generates self-signed ssl certificate)
/usr/bin/openssl genrsa 1024 > /etc/ssl.key/server.key
chmod go-rwx /etc/httpd/conf/ssl.key/server.key
/usr/bin/openssl req -new -key /etc/ssl.key/server.key -x509 -days 365 -out /etc/ssl.crt/server.crt


